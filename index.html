<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Import JSON Data</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/brands.min.css" integrity="sha512-EJp8vMVhYl7tBFE2rgNGb//drnr1+6XKMvTyamMS34YwOEFohhWkGq13tPWnK0FbjSS6D8YoA3n3bZmb3KiUYA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">
  <style>
    .sortable {
      cursor: pointer;
    }
    .arrow {
      font-size: 0.8rem;
      margin-left: 5px;
    }
    .arrow i {
      transition: transform 0.2s;
    }
    .arrow.asc i {
      transform: rotate(180deg);
    }
  </style>
</head>
<body>
  <div class="w-100 mt-2 d-flex justify-content-end gap-2 p-2">
    <input type="text" class="form-control w-25" id="search-input" placeholder="Search..." aria-label="search" aria-describedby="search">
    <div class="dropdown">
      <button class="btn btn-danger dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
        Show / Hide Table Columns
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
        <li><a class="dropdown-item" href="#" data-column="id" onclick="toggleColumn(event)">ID</a></li>
        <li><a class="dropdown-item" href="#" data-column="name" onclick="toggleColumn(event)">NAME</a></li>
        <li><a class="dropdown-item" href="#" data-column="mobile" onclick="toggleColumn(event)">MOBILE</a></li>
        <li><a class="dropdown-item" href="#" data-column="email" onclick="toggleColumn(event)">EMAIL</a></li>
        <li><a class="dropdown-item" href="#" data-column="city" onclick="toggleColumn(event)">CITY</a></li>
        <li><a class="dropdown-item" href="#" data-column="action" onclick="toggleColumn(event)">ACTION</a></li>
      </ul>
    </div>
    <button type="button" class="btn btn-success" onclick="exportDataToCsv(allClients)">Export CSV</button>
  </div>
    <div class="p-2">
      <table class="table table-striped rounded p-3 mt-3">
        <thead>
          <tr class="bg-dark">
            <th class="sortable text-light" data-column="id" data-order="asc" onclick="sort(event)">ID <span ><i  class="arrow fa-solid fa-arrows-up-down"></i></span></th>
            <th class="sortable text-light" data-column="name" data-order="asc" onclick="sort(event)">NAME <span ><i  class="arrow fa-solid fa-arrows-up-down"></i></span></th>
            <th class="sortable text-light" data-column="mobile" data-order="asc" onclick="sort(event)">MOBILE NO <span ><i  class="arrow fa-solid fa-arrows-up-down"></i></span></th>
            <th class="sortable text-light" data-column="email" data-order="asc" onclick="sort(event)">EMAIL ID <span ><i  class="arrow fa-solid fa-arrows-up-down"></i></span></th>
            <th class="sortable text-light" data-column="city" data-order="asc" onclick="sort(event)">CITY <span ><i  class="arrow fa-solid fa-arrows-up-down"></i></span></th>
            <th scope="col" class="text-light">ACTION</th>
          </tr>
        </thead>
        <tbody id="data-fetch">
        </tbody>
      </table>
    
  <!-- Pagination controls -->
  <nav aria-label="Page navigation">
    <ul class="pagination">
      <li class="page-item bg-dark text-light" id="prev-btn"><a class="page-link" href="#">Previous</a></li>
      <!-- Pagination buttons will be inserted here dynamically -->
      <li class="page-item bg-dark text-light" id="next-btn"><a class="page-link" href="#">Next</a></li>
    </ul>
  </nav>
    </div>
  <p class="text-danger" id="error-msg"></p>
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
      <h5 id="offcanvasRightLabel">Client Details</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <p><strong>ID:</strong> <span id="client-id"></span></p>
      <p><strong>Name:</strong> <span id="client-name"></span></p>
      <p><strong>Mobile:</strong> <span id="client-mobile"></span></p>
      <p><strong>Email:</strong> <span id="client-email"></span></p>
      <p><strong>City:</strong> <span id="client-city"></span></p>
    </div>
  </div>
  <script src="script.js"> </script>
</body>
</html>
